mainmenu "NEMU Configuration Menu"

config DIFFTEST
  bool "Enable Differential Testing"
  default n
  help
    Enable Differential Testing with a reference design.
    Note that this will significantly reduce the performance of NEMU.

config DEBUG
  bool "Enable Debug Features"
  default n
  help
    Enable debug features, which include instruction tracing and watchpoint.

choice
  prompt "Running mode"
  default MODE_SYSTEM

config MODE_SYSTEM
  bool "System mode"
  help
    Support full-system functionality, including privileged instructions, MMU and devices.

config MODE_USER
  bool "User mode"
  help
    Only support non-privileged instructions. System calls are forwarded to NEMU or Linux host.
endchoice

source "src/memory/Kconfig"

source "src/device/Kconfig"


menu "Hidden 1"
	visible if SHOW_MORE
	menu "Nested 1"
		menu "Nested 2"
			comment "we can nest as deep as we want"
		endmenu
	endmenu
endmenu




config LEDON
	bool "Led's states"
	default y

comment "This item is visible only if the third option is selected"

menu "Hidden 2"
	visible if SHOW_EVEN_MORE
	depends on MENUDEPENDENCY

	config ITEM1
		bool "Item 1 - enables additional options"
		default n

	config ITEM2
		depends on ITEM1
		bool "Item 2 - depends on item 1"
		default n

	config ITEM3
		bool "Item 3 - is set automatically"
		default n

	config ITEM4
		bool "Item 4 - reverse dependancy"
		select ITEM3
		default n
endmenu

comment "Some different config types"
config STRING_PARAM
	string "String Parameter"

config NUM_PARAM
	int "Integer parameter between 0 an 100"
	range 0 100

config NUM_PARAM2
	int "HEX parameter"

config TRISTATE_PARAM
	tristate "Three states"
